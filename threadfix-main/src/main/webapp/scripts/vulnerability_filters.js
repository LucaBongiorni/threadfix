function deleteFilter(form) {
	return function() {
		if (confirm('Are you sure you want to delete this filter?')) {
			basicPost($(form).attr("action"), form, '#tableDiv');
			$(this).closest(".modal").modal('hide');
		}
		return false;
	};
}

function updateCheckboxes() {
	if (!$("#enabledBox").is(":checked")) {
		$(".needsEnabled").attr('disabled', 'disabled');
	} else {
		$(".needsEnabled").removeAttr('disabled');
	}
}

function getWrapper(url, div) {
	basicGet(url, div);
}

function addHandlers() {
	$(".filterDeleteButton").each(function() {
		$(this).on("click", deleteFilter("#deleteForm" + $(this).attr("data-id")));
	});
	
	if (!$("#enabledBox").attr("data-has-function")) {
		$("#enabledBox").on("click", updateCheckboxes);
		$("#enabledBox").attr("data-has-function", "1");
	}

	$(".filterTab").each(function(){
		if (!$(this).attr("data-has-function")) {
			$(this).on("click", function() { getWrapper($(this).attr('data-url'), "#tabsDiv"); } );
			$(this).attr("data-has-function", "1");
		}
	});
}

addToDocumentReadyFunctions(updateCheckboxes);
addToDocumentReadyFunctions(addHandlers);
addToModalRefreshFunctions(updateCheckboxes);
addToModalRefreshFunctions(addHandlers);
